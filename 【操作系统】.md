## 操作系统发展过程
1.人工操作

人在输入的时候cpu停下来等待输入，那时候还是纸带穿孔形式

2.脱机输入输出

脱机，脱离主机，外置的输入设备。此时人可以一边输入cpu也能运作

3.单道批处理系统， （批：batch，unity也有批处理概念喔

监督程序会一个个地调度作业进入cpu进行运算，每次只处理一个

缺点是1.一个作业内出现io还是要等 2.cpu每次都只处理一个作业，但是这个作业很小，内存很大，浪费很多

![image](https://user-images.githubusercontent.com/47411365/128596078-7714b62f-64de-4a63-a442-d53dea85181c.png)


4.多道批处理系统

有多个任务时可以在A等待IO的时候运行

![image](https://user-images.githubusercontent.com/47411365/128596264-44b91a85-75a4-4ada-bff8-87923bcde04d.png)

优缺点：资源利用效率变高，系统吞吐量变大； 但是还是不能在程序运行的时候交互（或者调试），因为要等待别的程序所以周转时间很长

5.分时系统

多道批的作业在不用的时候都在外存，但是分时系统作业全在内存上，而且有多个终端，保证及时响应

加入时间片概念，一个作业运行完一个时间片必须换作业

6.实时系统

更高更快更可靠，因为高度可靠所以保险措施多，而且系统提供的服务被专门列出来了

## 进程和并发，异步

进程是最基本的资源分配单位，包括数据指针堆栈。多个进程能并发的进行并且相互发送信息。

想象一下事事都要同步很痛苦，那就是异步了，两个进程之间步调不同，谁先等谁后结束不确定，但是仍然能交互一样的接过，这就是异步

### 处理机管理功能

1.进程控制（撤销，状态转换，创造线程） 2.进程同步 3.进程通信 4.调度

### 存储器管理功能

1.内存分配 2.内存保护 3.地址映射 4.内存扩充（置换，请求调度）

### 设备管理功能

### 文件管理功能

1.文件存储空间管理 2.文件目录管理 3.文件读写管理


## 进程

进程是程序的一次执行

动态性是最基本的特征，并发性，独立性，异步性

![image](https://user-images.githubusercontent.com/47411365/128597384-918af7a3-1362-4583-8dc2-2e9d2487b3e9.png)

一般创建包括了分配内存，填写信息的过程，如果没有内存分配到就没有创建完，是不能去就绪队列的

### 挂起

挂起原语：Supend 激活原语 Active  挂起表示暂停（静止），在不同状态挂起转入不同状态

简单说就是：活动就绪-》静止就绪      活动阻塞-》静止阻塞

### PCB


![image](https://user-images.githubusercontent.com/47411365/128598469-d74202d0-1821-4306-ac73-0dd807e01323.png)

PCB其实就是进程表，在进程（处理器）管理里面的数据结构就是表结构，同样文件管理里面有文件表。。

PCB的作用：1.合法驾照，pid  2.在阻塞完了之后还原现场  3. 提供管理进程需要的信息   4.提供进程调度需要的信息  5.和其他进程同步和通信

## 进程同步

### 并发进程的制约关系

间接制约关系： 互相竞争资源，word和excel竞争cpu

临界资源：一次只允许一个进程使用，比如公用变量，打印机，公用队列，让其他进程等待

直接制约关系： 两个相关进程，比如输入和计算

### 互斥
对某个临界资源，一个进程在使用它的时候，另外一个不能用

![image](https://user-images.githubusercontent.com/47411365/128603655-d66ebae9-4949-427d-9efd-404467981d8d.png)

于是思路变成了：__只要互斥地访问临界区，就能互斥地访问临界资源__

![image](https://user-images.githubusercontent.com/47411365/128603745-5f48a2f7-61e4-49af-9c79-b877c2d33fb0.png)


进去临界区之前在进入区检查，临界资源是否被占用，被占用则等待，等到被归还系统才检测空闲再访问。退出的时候在退出区释放，

### 同步机制

同步机制实际上是用来处理进程之间互斥访问临界资源的问题，这里有四个原则

空闲让进： 临界资源空闲时。

忙则等待：正在被另外一个进程占用

有限等待：另外一个进程结束一定要释放，不能让别人死等

让权等待：不能进临界区的进程，应该释放CPU（转到阻塞状态）













