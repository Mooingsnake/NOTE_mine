## TCP/IP 协议体系认知
直达链接：
https://zhuanlan.zhihu.com/p/32059190

#### linux/win内部的内核态封装好：

数据链路层

网络层：ip

传输层：tcp、udp


#### 操作系统的用户态：

应用层：http，dns，ftp

## 数据链路层

### 以太网帧的格式，mtu最大传输的概念

![image](https://user-images.githubusercontent.com/47411365/129897747-488eca6a-5e5a-4a5a-9300-ae5b1cee24fc.png)


### arp，rarp协议

报文格式，ip和mac地址互查的机制

![image](https://user-images.githubusercontent.com/47411365/129897655-5d895fea-4d57-436d-9c0f-8f9b851330c0.png)


arp缓存

![image](https://user-images.githubusercontent.com/47411365/129897591-97bcce7f-a249-4b54-9513-55929bdea730.png)


## 网络层
16位分片表示，df不分片标志，mf更多分片标志，13位片便宜，8位生存时间ttl，16位首部检验

### ip分片，大于mtu的时候怎么分片
如何避免ip分片，在应用层和传输层都可以限制

如何确认分片顺序，接收端如何得知分片全部到达

### icmp协议
辅助协议，需要掌握报文格式，报文两大分类，查询+差错，2种查询报文5种差错报文

![image](https://user-images.githubusercontent.com/47411365/129942532-8ff20ad1-4cb9-407a-8c39-82fb7df9d51f.png)


## 传输层
UDP协议，无连接，不可靠

![image](https://user-images.githubusercontent.com/47411365/129946064-27f83142-fb6c-411c-b096-3ec1d4ab3429.png)

![image](https://user-images.githubusercontent.com/47411365/129946831-84ca0ea0-e1e5-436c-a5df-a2260a3249a1.png)


## TCP（传输层）
TCP 特点，首部长度，校验和，
### 三次握手四次挥手，同时打开同时关闭，半关闭
三次握手

![image](https://user-images.githubusercontent.com/47411365/129950543-76097d7f-878d-425c-a930-b9d76fe73eee.png)

四次挥手

![image](https://user-images.githubusercontent.com/47411365/129950954-8ad6a3a3-37cd-476f-9c4c-0dd806c648d0.png)


为什么是三次不是四次握手，为什么结束不是两次挥手?

![image](https://user-images.githubusercontent.com/47411365/129946898-cae7d3a1-af05-4eb0-a1b0-f9bd7880cbb6.png)


### 流量控制机制
滑动窗口，慢启动，拥塞避免，快速重传，快速恢复

![image](https://user-images.githubusercontent.com/47411365/129947489-08ecd2b2-0711-46e7-9955-25929629cff1.png)


tcp超时重传

## 应用层

### dns协议
域名到ip地址的解析

![image](https://user-images.githubusercontent.com/47411365/129950269-d163f4dd-6c6a-4100-8951-fd72ade87381.png)


dns协议的名字空间，dns指针查询（反向查找或者逆向解析）基本原理，dns缓存

#### ftp协议（弱化）
控制链接和数据连接，指令和响应码，断点续传，匿名ftp

### http协议
1.报文格式：请求报文，响应报文，请求头各种字段，响应头各种字段

2.http状态码

### https协议
1.详细的握手过程

2.摘要算法，数字签名，数字证书和原理过程

![image](https://user-images.githubusercontent.com/47411365/129951136-7882fb23-f6a4-460b-89d0-6d6ef754e9f4.png)

